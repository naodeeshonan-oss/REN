<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>å¥½ããªã‚¤ãƒ©ã‚¹ãƒˆã‚’ä½œã‚ã†</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 0; background:#fafafa; color:#222; }
    .container { max-width: 800px; margin: 0 auto; padding: 20px; } /* PCã¯å¹…800pxä»¥å†…ã€ä¸­å¤®å¯„ã› */
    h1 { font-size: 22px; margin-bottom: 16px; text-align: center; }
    .mode-buttons { display:flex; gap:12px; margin-bottom:20px; }
    .mode-buttons button {
      flex:1; padding:12px; font-size:16px; border-radius:8px;
      border:1px solid #ccc; background:#fff; cursor:pointer;
    }
    .mode-buttons button.active { background:#111; color:#fff; }
    .card { background:#fff; border:1px solid #ccc; border-radius:8px; padding:16px; margin-bottom:16px; }
    label { font-weight:600; display:block; margin:8px 0; }
    textarea, select, input[type="file"] { width:100%; padding:8px; border:1px solid #ccc; border-radius:6px; }
    .actions { display:flex; gap:12px; margin-top:16px; }
    .actions button { flex:1; padding:12px; font-size:16px; border-radius:8px; cursor:pointer; border:none; }
    .btn-main { background:#111; color:#fff; }
    .btn-sub { background:#eee; }
    .muted { color:#666; font-size:13px; margin-top:8px; text-align:center; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ å¥½ããªã‚¤ãƒ©ã‚¹ãƒˆã‚’ä½œã‚ã†</h1>

    <!-- 3ã¤ã®ãƒ¢ãƒ¼ãƒ‰ã‚’é¸ã¶ãƒœã‚¿ãƒ³ -->
    <div class="mode-buttons">
      <button id="btnFree">â‘  è‡ªç”±ã«ä½œã‚‹</button>
      <button id="btnImg2Img">â‘¡ å†™çœŸã‹ã‚‰ã‚­ãƒ£ãƒ©åŒ–</button>
      <button id="btnInterrogate">â‘¢ å†™çœŸã‹ã‚‰ã‚¿ã‚°æŠ½å‡º</button>
    </div>

    <!-- å†™çœŸã‚’é¸ã¶æ¬„ -->
    <div id="imageBlock" class="card" style="display:none;">
      <label>å†™çœŸã‚’é¸ã‚“ã§ãã ã•ã„</label>
      <input type="file" id="fileInput" accept="image/*" />
    </div>

    <!-- ãƒ—ãƒªã‚»ãƒƒãƒˆ -->
    <div id="presetBlock" class="card" style="display:none;">
      <label>ä½œé¢¨ãƒ—ãƒªã‚»ãƒƒãƒˆï¼ˆä»»æ„ï¼‰</label>
      <select id="preset">
        <option value="">é¸ã°ãªã„ï¼ˆè‡ªç”±ã«å…¥åŠ›ï¼‰</option>
        <option value="chibi">â‘  ã‹ã‚ã„ã„ãƒ»ã¡ã³ã‚­ãƒ£ãƒ©é¢¨</option>
        <option value="mature">â‘¡ å¤§äººã£ã½ã„ã‚¢ãƒ‹ãƒ¡é¢¨</option>
        <option value="street">â‘¢ ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒˆé¢¨</option>
      </select>
    </div>

    <!-- è‡ªç”±ãƒ†ã‚­ã‚¹ãƒˆ -->
    <div id="promptBlock" class="card">
      <label id="promptLabel">å¥½ããªæŒ‡ç¤ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</label>
      <textarea id="prompt" rows="4" placeholder="ä¾‹ï¼šç¬‘é¡”ã§ãƒ”ãƒ¼ã‚¹ã‚µã‚¤ãƒ³ã€ç™½èƒŒæ™¯ãªã©"></textarea>
    </div>

    <!-- è£œåŠ©ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
    <div id="optionsBlock" class="card">
      <label><input type="checkbox" id="bgTransparent"> èƒŒæ™¯ã‚’é€éã™ã‚‹</label>
      <label>èƒŒæ™¯ã‚’å¤‰æ›´ï¼š</label>
      <select id="bgPreset">
        <option value="">ï¼ˆå¤‰æ›´ã—ãªã„ï¼‰</option>
        <option value="white background">ç™½èƒŒæ™¯</option>
        <option value="simple pastel background">ã‚„ã‚ã‚‰ã‹ã„ãƒ‘ã‚¹ãƒ†ãƒ«èƒŒæ™¯</option>
        <option value="street background">ã‚¹ãƒˆãƒªãƒ¼ãƒˆé¢¨èƒŒæ™¯</option>
      </select>
      <label><input type="checkbox" id="brightnessUp"> æ˜ã‚‹ã•ã‚’å°‘ã—ä¸Šã’ã‚‹</label>
      <label><input type="checkbox" id="moodBoost"> é›°å›²æ°—ã‚’ã¡ã‚‡ã£ã¨UP</label>
    </div>

    <!-- å®Ÿè¡Œãƒœã‚¿ãƒ³ -->
    <div id="actionsBlock" class="card">
      <div class="actions">
        <button class="btn-main" id="btnRun">ç”Ÿæˆã™ã‚‹ï¼ˆ3æšå›ºå®šï¼‰</button>
        <button class="btn-sub" id="btnRunInterrogate" style="display:none;">å†™çœŸã‹ã‚‰ã‚¿ã‚°æŠ½å‡º</button>
      </div>
      <p class="muted">â€» â‘ è‡ªç”±ã«ä½œã‚‹ â†’ å†™çœŸä¸è¦<br>â€» â‘¡ã‚­ãƒ£ãƒ©åŒ– â†’ å†™çœŸå¿…é ˆ<br>â€» â‘¢ã‚¿ã‚°æŠ½å‡º â†’ å†™çœŸå¿…é ˆ</p>
      <p id="status" class="muted"></p>
    </div>
  </div>

  <script>
    const btnFree = document.getElementById("btnFree");
    const btnImg2Img = document.getElementById("btnImg2Img");
    const btnInterrogate = document.getElementById("btnInterrogate");

    const imageBlock = document.getElementById("imageBlock");
    const presetBlock = document.getElementById("presetBlock");
    const promptLabel = document.getElementById("promptLabel");
    const runInterrogateBtn = document.getElementById("btnRunInterrogate");

    let currentMode = "free";

    function setMode(mode) {
      currentMode = mode;
      btnFree.classList.remove("active");
      btnImg2Img.classList.remove("active");
      btnInterrogate.classList.remove("active");

      if (mode === "free") {
        btnFree.classList.add("active");
        imageBlock.style.display = "none";
        presetBlock.style.display = "none";
        runInterrogateBtn.style.display = "none";
        promptLabel.textContent = "å¥½ããªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼ˆè‡ªç”±å…¥åŠ›ï¼‰";
      } else if (mode === "img2img") {
        btnImg2Img.classList.add("active");
        imageBlock.style.display = "";
        presetBlock.style.display = "";
        runInterrogateBtn.style.display = "none";
        promptLabel.textContent = "è¿½åŠ ã—ãŸã„æŒ‡ç¤ºãŒã‚ã‚Œã°å…¥åŠ›ï¼ˆä»»æ„ï¼‰";
      } else if (mode === "interrogate") {
        btnInterrogate.classList.add("active");
        imageBlock.style.display = "";
        presetBlock.style.display = "none";
        runInterrogateBtn.style.display = "";
        promptLabel.textContent = "æŠ½å‡ºã—ãŸã‚¿ã‚°ã«è¿½åŠ ã—ãŸã„æŒ‡ç¤ºã‚’å…¥åŠ›ï¼ˆä»»æ„ï¼‰";
      }
    }

    btnFree.addEventListener("click", () => setMode("free"));
    btnImg2Img.addEventListener("click", () => setMode("img2img"));
    btnInterrogate.addEventListener("click", () => setMode("interrogate"));

    // åˆæœŸã¯ã€Œè‡ªç”±ã«ä½œã‚‹ã€
    setMode("free");
  </script>
</body>
</html>
